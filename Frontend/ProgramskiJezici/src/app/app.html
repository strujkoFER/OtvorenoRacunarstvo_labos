<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
<header>
  <h1 class="title">Programming languages table</h1>
</header>

<main>
  <div class="table">
    <div class="table-top-box">
      <select [(ngModel)]="field">
          <option value="" disabled selected>Select value</option>
        @for(header of appService.selectOptions; track header){
          <option [value]="header.value">
            {{ header.name }}
          </option>
        }
      </select>

      <input type="text" [(ngModel)]="param" placeholder="Enter value" />

      <button (click)="applyFilter()">Filter</button>
      <button (click)="clearFilter()">Clear filters</button>
      <button (click)="exportJSON()">Export JSON</button>
      <button (click)="exportCSV()">Export CSV</button>

    </div>
    <div class="table-bottom-box"
         (mousedown)="startDrag($event)"
         (mousemove)="onDrag($event)"
         (mouseup)="stopDrag()"
         (mouseleave)="stopDrag()">
      <table>
        <tr>
          @for(column of appService.headers; track column){
            <th>
              {{column}}
            </th>
          }
        </tr>
        @for(row of appService.tableStorage; track row){
          <tr>
            <th>
              {{row.name}}
            </th>
            <th>
              {{row.yearCreated}}
            </th>
            <th>
              {{row.creator}}
            </th>
            <th>
              {{row.popularFrameworks}}
            </th>
            <th>
              {{row.primaryUses}}
            </th>
            <th>
              {{row.description}}
            </th>
            <th>
              {{row.website}}
            </th>
            <th>
              {{row.typingDisciplineTypeChecking}}
            </th>
            <th>
              {{row.typingDisciplineStrength}}
            </th>
            <th>
              {{row.programmingStyle}}
            </th>
          </tr>
        }
      </table>
    </div>
  </div>
</main>
</body>
</html>

